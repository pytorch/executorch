
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
  <meta name="robots" content="noindex">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Building from Source &#8212; ExecuTorch main documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=047068a3" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=a8da1a53"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'using-executorch-building-from-source';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.4';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://docs.pytorch.org/executorch/executorch-versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'main';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="canonical" href="https://docs.pytorch.org/executorch/using-executorch-building-from-source.html" />
    <link rel="icon" href="_static/executorch-chip-logo.svg"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Edge" href="edge-platforms-section.html" />
    <link rel="prev" title="Model Export and Lowering" href="using-executorch-export.html" />

  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/2.3.1/list.min.js"></script>
<script>
  if (window.location.hostname === 'docs.pytorch.org' || window.location.hostname === 'docs-preview.pytorch.org') {
    const script = document.createElement('script');
    script.src = 'https://cmp.osano.com/16A0DbT9yDNIaQkvZ/31b1b91a-e0b6-47ea-bde2-7f2bd13dbe5c/osano.js?variant=one';
    document.head.appendChild(script);
  }
</script>
<script>
  // Cookie banner for non-LF projects
  document.addEventListener('DOMContentLoaded', function () {
    // Hide cookie banner on local environments and LF owned docs
    if (window.location.hostname === 'localhost' ||
      window.location.hostname === '0.0.0.0' ||
      window.location.hostname === '127.0.0.1' ||
      window.location.hostname === 'docs.pytorch.org' ||
      window.location.hostname === 'docs-preview.pytorch.org' ||
      window.location.hostname.startsWith('192.168.')) {
      const banner = document.querySelector('.cookie-banner-wrapper');
      if (banner) {
        banner.style.display = 'none';
      }
    }
  });
</script>
<!-- Conditional CSS for header and footer height adjustment -->


<link rel="stylesheet" type="text/css" href="_static/css/theme.css" crossorigin="anonymous">
<script type="text/javascript" src="_static/js/theme.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
<meta property="og:image" content="_static/img/pytorch_seo.png" />
<link rel="stylesheet" href="_static/webfonts/all.min.css" crossorigin="anonymous">
<meta http-equiv="Content-Security-Policy"
  content="default-src * 'unsafe-inline' 'unsafe-eval' data: blob:; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval' blob:;">
<meta name="pytorch_project" content="">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T8XT4PS" height="0" width="0"
    style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Google Tag Manager -->
<script>(function (w, d, s, l, i) {
    w[l] = w[l] || []; w[l].push({
      'gtm.start':
        new Date().getTime(), event: 'gtm.js'
    }); var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
        'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
    j.onload = function () {
      window.dispatchEvent(new Event('gtm_loaded'));
      console.log('GTM loaded successfully');
    };
  })(window, document, 'script', 'dataLayer', 'GTM-T8XT4PS');
</script>
<!-- End Google Tag Manager -->
<!-- Facebook Pixel Code -->
<script>
  !function (f, b, e, v, n, t, s) {
    if (f.fbq) return; n = f.fbq = function () {
      n.callMethod ?
        n.callMethod.apply(n, arguments) : n.queue.push(arguments)
    };
    if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
    n.queue = []; t = b.createElement(e); t.async = !0;
    t.src = v; s = b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t, s)
  }(window, document, 'script',
    'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '243028289693773');
  fbq('track', 'PageView');
</script>
<script>
  document.documentElement.setAttribute('data-version', 'main');
</script>
<noscript>
  <img height="1" width="1" src="https://www.facebook.com/tr?id=243028289693773&ev=PageView&noscript=1" />
</noscript>
<script>
  function gtag() {
    window.dataLayer.push(arguments);
  }
</script>
<!-- End Facebook Pixel Code -->
<!-- Repository configuration for tutorials -->

<!-- Script to Fix scrolling -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Fix anchor scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);

        if (targetElement) {
          const headerHeight =
            (document.querySelector('.header-holder') ? document.querySelector('.header-holder').offsetHeight : 0) +
            (document.querySelector('.bd-header') ? document.querySelector('.bd-header').offsetHeight : 0) + 20;

          const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight;
          window.scrollTo({
            top: targetPosition,
            behavior: 'smooth'
          });

          // Update URL hash without scrolling
          history.pushState(null, null, '#' + targetId);
        }
      });
    });
  });
</script>

<script async src="https://cse.google.com/cse.js?cx=e65585f8c3ea1440e"></script>

<!--
   Search engines should not index the main version of documentation.
   Stable documentation are built without release == 'main'.
   -->
<meta name="robots" content="noindex">


  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>

  </head>

<body data-feedback-url="https://github.com/pytorch/executorch" class="pytorch-body">
  
    <div class="container-fluid header-holder tutorials-header" id="header-holder">
   <div class="header-container-wrapper">
    <div class="header-container">
      <a class="header-logo" href="https://pytorch.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>

          <li class="main-menu-item">
          <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
                <span>Learn</span>
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/get-started/locally">
                  <span class=dropdown-title>Get Started</span>
                </a>
                <a class="nav-dropdown-item" href="https://docs.pytorch.org/tutorials">
                  <span class="dropdown-title">Tutorials</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials/beginner/basics/intro.html">
                  <span class="dropdown-title">Learn the Basics</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials/recipes/recipes_index.html">
                  <span class="dropdown-title">PyTorch Recipes</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tutorials/beginner/introyt.html">
                  <span class="dropdown-title">Intro to PyTorch - YouTube Series</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/webinars/">
                  <span class="dropdown-title">Webinars</span>
                </a>
              </div>
            </div>
          </li>

          <li class="main-menu-item">
          <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
              <span>Community</span>
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://landscape.pytorch.org/" target="_blank">
                  <span class="dropdown-title">Landscape</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/join-ecosystem">
                  <span class="dropdown-title">Join the Ecosystem</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/community-hub/">
                  <span class="dropdown-title">Community Hub</span>
                </a>
                <a class="nav-dropdown-item" href="https://discuss.pytorch.org/">
                  <span class="dropdown-title">Forums</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/resources">
                  <span class=dropdown-title>Developer Resources</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/contributor-awards/">
                  <span class="dropdown-title">Contributor Awards</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/community-events/">
                  <span class="dropdown-title">Community Events</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/programs/ambassadors/">
                  <span class="dropdown-title">PyTorch Ambassadors</span>
                </a>
              </div>
            </div>
          </li>

          <li class="main-menu-item">
          <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
              <span>Projects</span>
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/projects/pytorch/">
                  <span class="dropdown-title">PyTorch</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/projects/vllm/">
                  <span class="dropdown-title">vLLM</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/projects/deepspeed/">
                  <span class="dropdown-title">DeepSpeed</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/projects/host-your-project/">
                  <span class="dropdown-title">Host Your Project</span>
                </a>
              </div>
            </div>
          </li>

          <li class="main-menu-item">
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
              <span> Docs</span>
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://docs.pytorch.org/docs/stable/index.html">
                  <span class="dropdown-title">PyTorch</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/domains">
                  <span class="dropdown-title">Domains</span>
                </a>
              </div>
            </div>
          </li>

          <li class="main-menu-item">
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
              <span>Blogs & News</span>
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/blog/">
                  <span class="dropdown-title">Blog</span>
                </a>
                 <a class="nav-dropdown-item" href="https://pytorch.org/announcements">
                  <span class="dropdown-title">Announcements</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/case-studies/">
                  <span class="dropdown-title">Case Studies</span>
                <a class="nav-dropdown-item" href="https://pytorch.org/events">
                  <span class="dropdown-title">Events</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/newsletter">
                  <span class="dropdown-title">Newsletter</span>
                </a>
            </div>
          </li>

          <li class="main-menu-item">
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="with-down-arrow">
              <span>About</span>
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://pytorch.org/foundation">
                  <span class="dropdown-title">PyTorch Foundation</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/members">
                  <span class="dropdown-title">Members</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/governing-board">
                  <span class="dropdown-title">Governing Board</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/tac">
                  <span class="dropdown-title">Technical Advisory Council</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/credits">
                  <span class="dropdown-title">Cloud Credit Program</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/staff">
                  <span class="dropdown-title">Staff</span>
                </a>
                <a class="nav-dropdown-item" href="https://pytorch.org/contact">
                  <span class="dropdown-title">Contact</span>
                </a>
              </div>
            </div>
          </li>

          <li class="main-menu-item">
            <div class="no-dropdown main-menu-button">
              <a href="https://pytorch.org/join" data-cta="join">
                JOIN
              </a>
            </div>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu">
        <i class="fa-solid fa-ellipsis"></i>
      </a>
    </div>
  </div>
 </div>

 <!-- Begin Mobile Menu -->

<div class="mobile-main-menu">
  <div class="container-fluid">
    <div class="header-container-wrapper">
      <div class="mobile-main-menu-header-container">
        <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu">
        </a>
      </div>
    </div>
  </div>

  <div class="mobile-main-menu-links-container">
    <div class="main-menu">
      <ul>
         <li class="resources-mobile-menu-title">
           <a>Learn</a>
         </li>
         <ul class="resources-mobile-menu-items">
           <li>
             <a href="https://pytorch.org/get-started/locally">Get Started</a>
           </li>
           <li>
             <a href="https://docs.pytorch.org/tutorials">Tutorials</a>
           </li>
           <li>
             <a href="https://pytorch.org/tutorials/beginner/basics/intro.html">Learn the Basics</a>
           </li>
           <li>
             <a href="https://pytorch.org/tutorials/recipes/recipes_index.html">PyTorch Recipes</a>
           </li>
           <li>
             <a href="https://pytorch.org/tutorials/beginner/introyt.html">Introduction to PyTorch - YouTube Series</a>
           </li>
           <li>
            <a href="https://pytorch.org/webinars/">Webinars</a>
          </li>
        </ul>
         <li class="resources-mobile-menu-title">
           <a>Community</a>
         </li>
         <ul class="resources-mobile-menu-items">
          <li>
            <a href="https://landscape.pytorch.org/">Landscape</a>
          </li>
          <li>
             <a href="https://pytorch.org/join-ecosystem">Join the Ecosystem</a>
           </li>
           <li>
             <a href="https://pytorch.org/community-hub/">Community Hub</a>
           </li>
           <li>
             <a href="https://discuss.pytorch.org/">Forums</a>
           </li>
           <li>
             <a href="https://pytorch.org/resources">Developer Resources</a>
           </li>
           <li>
             <a href="https://pytorch.org/contributor-awards/">Contributor Awards</a>
           </li>
           <li>
            <a href="https://pytorch.org/community-events/">Community Events</a>
          </li>
          <li>
            <a href="https://pytorch.org/programs/ambassadors/">PyTorch Ambassadors</a>
          </li>
       </ul>

         <li class="resources-mobile-menu-title">
           <a>Projects</a>
         </li>

         <ul class="resources-mobile-menu-items">
           <li>
             <a href="https://pytorch.org/projects/pytorch/">PyTorch</a>
           </li>

           <li>
             <a href="https://pytorch.org/projects/vllm/">vLLM</a>
           </li>
           <li>
            <a href="https://pytorch.org/projects/deepspeed/">DeepSpeed</a>
          </li>
          <li>
             <a href="https://pytorch.org/projects/host-your-project/">Host Your Project</a>
           </li>
         </ul>

         <li class="resources-mobile-menu-title">
           <a>Docs</a>
         </li>

         <ul class="resources-mobile-menu-items">
          <li>
            <a href="https://docs.pytorch.org/docs/stable/index.html">PyTorch</a>
          </li>

          <li>
            <a href="https://pytorch.org/domains">Domains</a>
          </li>
        </ul>

        <li class="resources-mobile-menu-title">
          <a>Blog & News</a>
        </li>

         <ul class="resources-mobile-menu-items">
          <li>
            <a href="https://pytorch.org/blog/">Blog</a>
          </li>
          <li>
            <a href="https://pytorch.org/announcements">Announcements</a>
          </li>

          <li>
            <a href="https://pytorch.org/case-studies/">Case Studies</a>
          </li>
          <li>
            <a href="https://pytorch.org/events">Events</a>
          </li>
          <li>
             <a href="https://pytorch.org/newsletter">Newsletter</a>
           </li>
        </ul>

        <li class="resources-mobile-menu-title">
          <a>About</a>
        </li>

        <ul class="resources-mobile-menu-items">
          <li>
            <a href="https://pytorch.org/foundation">PyTorch Foundation</a>
          </li>
          <li>
            <a href="https://pytorch.org/members">Members</a>
          </li>
          <li>
            <a href="https://pytorch.org/governing-board">Governing Board</a>
          </li>
          <li>
            <a href="https://pytorch.org/tac">Technical Advisory Council</a>
         </li>
         <li>
             <a href="https://pytorch.org/credits">Cloud Credit Program</a>
          </li>
          <li>
             <a href="https://pytorch.org/staff">Staff</a>
          </li>
          <li>
             <a href="https://pytorch.org/contact">Contact</a>
          </li>
        </ul>
      </ul>
    </div>
  </div>
</div>

<!-- End Mobile Menu -->
  
  
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/et-logo.png" class="logo__image only-light" alt="ExecuTorch main documentation - Home"/>
    <script>document.write(`<img src="_static/et-logo.png" class="logo__image only-dark" alt="ExecuTorch main documentation - Home"/>`);</script>
  
  
</a></div>
    
      <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="intro-section.html">
    Intro
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="quick-start-section.html">
    Quick Start
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="edge-platforms-section.html">
    Edge
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="backends-section.html">
    Backends
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="llm/working-with-llms.html">
    LLMs
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="advanced-topics-section.html">
    Advanced
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="tools-section.html">
    Tools
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="api-section.html">
    API
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="support-section.html">
    Support
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
  
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
</div>
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://x.com/PyTorch" title="X" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-x-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">X</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pytorch/executorch" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discuss.pytorch.org/" title="Discourse" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discourse</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/executorch" title="PyPi" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-python fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPi</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="intro-section.html">
    Intro
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="quick-start-section.html">
    Quick Start
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="edge-platforms-section.html">
    Edge
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="backends-section.html">
    Backends
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="llm/working-with-llms.html">
    LLMs
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="advanced-topics-section.html">
    Advanced
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="tools-section.html">
    Tools
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="api-section.html">
    API
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="support-section.html">
    Support
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
  
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
</div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://x.com/PyTorch" title="X" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-x-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">X</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/pytorch/executorch" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discuss.pytorch.org/" title="Discourse" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discourse fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discourse</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/executorch" title="PyPi" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-python fa-lg" aria-hidden="true"></i>
            <span class="sr-only">PyPi</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="quick-start-section.html" class="nav-link">Quick Start</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Building from Source</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">
<div class="rating">
    Rate this Page
    <div class="stars">
        
        <span class="star" data-behavior="tutorial-rating" data-count="1" data-value="1">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="2" data-value="2">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="3" data-value="3">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="4" data-value="4">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="5" data-value="5">★</span>
        
    </div>
</div>
</div>
      
    </div>
  
</div>
</div>
              
              
  
<div id="searchbox"></div>
  <article class="bd-article" id="pytorch-article">
    <!-- Hidden breadcrumb schema for SEO only -->
    <div style="display:none;" itemscope itemtype="https://schema.org/BreadcrumbList">
      
      <div itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <link itemprop="item" href="quick-start-section.html">
        <meta itemprop="name" content="Quick Start">
        <meta itemprop="position" content="1">
      </div>
      
      <div itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <meta itemprop="name" content="Building from Source">
        <meta itemprop="position" content="2">
      </div>
    </div>

    
    

    
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="building-from-source">
<h1>Building from Source<a class="headerlink" href="#building-from-source" title="Link to this heading">#</a></h1>
<p>ExecuTorch uses <a class="reference external" href="https://cmake.org/">CMake</a> as the primary build system.
Even if you don’t use CMake directly, CMake can emit scripts for other format
like Make, Ninja or Xcode. For information, see <a class="reference external" href="https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html">cmake-generators(7)</a>.</p>
<section id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Link to this heading">#</a></h2>
<section id="operating-system">
<h3>Operating System<a class="headerlink" href="#operating-system" title="Link to this heading">#</a></h3>
<p>ExecuTorch is tested on the following systems, although it should also work in similar environments.</p>
<ul class="simple">
<li><p>Linux (x86_64)</p>
<ul>
<li><p>CentOS 8+</p></li>
<li><p>Ubuntu 20.04.6 LTS+</p></li>
<li><p>RHEL 8+</p></li>
</ul>
</li>
<li><p>macOS (x86_64/ARM64)</p>
<ul>
<li><p>Big Sur (11.0)+</p></li>
</ul>
</li>
<li><p>Windows (x86_64)</p>
<ul>
<li><p>Windows Subsystem for Linux (WSL) with any of the Linux options</p></li>
<li><p>Windows 10+ with Visual Studio 2022+ (experimental)</p></li>
</ul>
</li>
</ul>
</section>
<section id="software-requirements">
<h3>Software Requirements<a class="headerlink" href="#software-requirements" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">conda</span></code> or another virtual environment manager</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">conda</span></code> is recommended as it provides cross-language
support and integrates smoothly with <code class="docutils literal notranslate"><span class="pre">pip</span></code> (Python’s built-in package manager)</p></li>
<li><p>Otherwise, Python’s built-in virtual environment manager <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">venv</span></code> is a good alternative.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">g++</span></code> version 7 or higher, <code class="docutils literal notranslate"><span class="pre">clang++</span></code> version 5 or higher, or another
C++17-compatible toolchain.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">python</span></code> version 3.10-3.12</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Xcode</span> <span class="pre">Command</span> <span class="pre">Line</span> <span class="pre">Tools</span></code> (macOS only)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ccache</span></code> (optional) - A compiler cache that speeds up recompilation</p></li>
</ul>
<p>Additional dependencies will be installed automatically when running the <a class="reference internal" href="#building-the-python-package">Python installation</a>.
Note that the cross-compilable core runtime code supports a wider range of
toolchains, down to C++17. See the <a class="reference internal" href="runtime-overview.html"><span class="std std-doc">Runtime Overview</span></a> for
portability details.</p>
</section>
</section>
<section id="environment-setup">
<h2>Environment Setup<a class="headerlink" href="#environment-setup" title="Link to this heading">#</a></h2>
<p>Clone the ExecuTorch repository from GitHub and create a conda environment as follows. Venv can be used in place on conda.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>-b<span class="w"> </span>viable/strict<span class="w"> </span>https://github.com/pytorch/executorch.git
<span class="nb">cd</span><span class="w"> </span>executorch
conda<span class="w"> </span>create<span class="w"> </span>-yn<span class="w"> </span>executorch<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.10.0
conda<span class="w"> </span>activate<span class="w"> </span>executorch
</pre></div>
</div>
<hr/>
</section>
<section id="building-the-python-package">
<h2>Building the Python package<a class="headerlink" href="#building-the-python-package" title="Link to this heading">#</a></h2>
<p>To build and install the ExecuTorch Python components, used for PTE creation and Python runtime bindings, run the following command.
This will install the ExecuTorch python package and its dependencies into the active Python environment.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install ExecuTorch pip package and its dependencies.</span>
./install_executorch.sh
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">install_executorch.sh</span></code> script supports the following flags:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--clean</span></code>: Removes build artifacts.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--editable</span></code>: Install the ExecuTorch python package in editable mode (see <a class="reference internal" href="#editable-install">Editable Install</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--minimal</span></code>: Install only the minimal set of dependencies required to run ExecuTorch. Do not install dependencies for examples.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--use-pt-pinned-commit</span></code>: Install the pinned PyTorch commit. When not specified, the latest PyTorch nightly build is installed.</p></li>
</ul>
<p>For Intel-based macOS systems, use <code class="docutils literal notranslate"><span class="pre">--use-pt-pinned-commit</span> <span class="pre">--minimal</span></code>. As PyTorch does not provide pre-built binaries for Intel Mac, installation requires building PyTorch from source. Instructions can be found in <a class="reference external" href="https://github.com/pytorch/pytorch#installation">PyTorch Installation</a>.</p>
<p>Note that only the XNNPACK and CoreML backends are built by default. Additional backends can be enabled or disabled by setting the corresponding CMake flags:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enable the MPS backend</span>
<span class="nv">CMAKE_ARGS</span><span class="o">=</span><span class="s2">&quot;-DEXECUTORCH_BUILD_MPS=ON&quot;</span><span class="w"> </span>./install_executorch.sh
</pre></div>
</div>
<section id="editable-install">
<h3>Editable Install<a class="headerlink" href="#editable-install" title="Link to this heading">#</a></h3>
<p>For development, include the <code class="docutils literal notranslate"><span class="pre">--editable</span></code> flag, which allows for local changes to ExecuTorch Python code to be reflected without a re-install. Note that when C++ files are modified, you will need to re-run the full installation to reflect the changes.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./install_executorch.sh<span class="w"> </span>--editable

<span class="c1"># Or you can directly do the following if dependencies are already installed</span>
<span class="c1"># either via a previous invocation of `./install_executorch.sh` or by explicitly installing requirements via `./install_requirements.sh` first.</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.<span class="w"> </span>--no-build-isolation
</pre></div>
</div>
<blockquote>
<div><p><strong><em>WARNING:</em></strong>
Some modules can’t be imported directly in editable mode. This is a known <a class="reference external" href="https://github.com/pytorch/executorch/issues/9558">issue</a> and we are actively working on a fix for this. To work around this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># This will fail</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;from executorch.exir import CaptureConfig&quot;</span>
<span class="c1"># But this will succeed</span>
python<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;from executorch.exir.capture import CaptureConfig&quot;</span>
</pre></div>
</div>
</div></blockquote>
<blockquote>
<div><p><strong><em>NOTE:</em></strong>  Cleaning the build system</p>
<p>When fetching a new version of the upstream repo (via <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code> or <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code>) it is a good idea to clean the old build artifacts. The build system
does not currently adapt well to changes in build dependencies.</p>
<p>You should also update and pull the submodules again, in case their versions
have changed.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># From the root of the executorch repo:</span>
./install_executorch.sh<span class="w"> </span>--clean
git<span class="w"> </span>submodule<span class="w"> </span>sync
git<span class="w"> </span>submodule<span class="w"> </span>update<span class="w"> </span>--init<span class="w"> </span>--recursive
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--clean</span></code> command removes build artifacts, pip outputs, and also clears the ccache if it’s installed, ensuring a completely fresh build environment.</p>
</div></blockquote>
<hr/>
</section>
</section>
<section id="building-the-c-runtime">
<h2>Building the C++ Runtime<a class="headerlink" href="#building-the-c-runtime" title="Link to this heading">#</a></h2>
<p>The ExecuTorch C++ runtime is built using CMake. It can be compiled standalone to run examples, added as a CMake dependency, or cross-compiled for Android, iOS, or embedded platforms.</p>
<section id="configuring">
<h3>Configuring<a class="headerlink" href="#configuring" title="Link to this heading">#</a></h3>
<p>Configuration should be done after cloning, pulling the upstream repo, or changing build options. Once this is done, you won’t need to do it again until you pull from the upstream repo or modify any CMake-related files.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># cd to the root of the executorch repo</span>
<span class="nb">cd</span><span class="w"> </span>executorch

<span class="c1"># Clean and configure the CMake build system. It&#39;s good practice to do this</span>
<span class="c1"># whenever cloning or pulling the upstream repo.</span>
./install_executorch.sh<span class="w"> </span>--clean
<span class="o">(</span>mkdir<span class="w"> </span>cmake-out<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>cmake-out<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>cmake<span class="w"> </span>..<span class="o">)</span>
</pre></div>
</div>
</section>
<section id="building">
<h3>Building<a class="headerlink" href="#building" title="Link to this heading">#</a></h3>
<p>Build all targets with <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">--build</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># cd to the root of the executorch repo</span>
<span class="nb">cd</span><span class="w"> </span>executorch

<span class="c1"># Build using the configuration that you previously generated under the</span>
<span class="c1"># `cmake-out` directory.</span>
<span class="c1">#</span>
<span class="c1"># NOTE: The `-j` argument specifies how many jobs/processes to use when</span>
<span class="c1"># building, and tends to speed up the build significantly. It&#39;s typical to use</span>
<span class="c1"># &quot;core count + 1&quot; as the `-j` value.</span>
cmake<span class="w"> </span>--build<span class="w"> </span>cmake-out<span class="w"> </span>-j9
</pre></div>
</div>
<blockquote>
<div><p><strong><em>TIP:</em></strong> For faster rebuilds, consider installing ccache (see <a class="reference internal" href="#compiler-cache-ccache">Compiler Cache section</a> above). On first builds, ccache populates its cache. Subsequent builds with the same compiler flags can be significantly faster.</p>
</div></blockquote>
</section>
<section id="build-presets">
<h3>Build Presets<a class="headerlink" href="#build-presets" title="Link to this heading">#</a></h3>
<p>ExecuTorch provides fine-grained control over what is built, as described in <a class="reference internal" href="#build-options">Build Options</a>. These options are grouped into CMake presets to cover common scenarios, while providing the ability to override individual options. Presets can be specified when configuring CMake by specifying <code class="docutils literal notranslate"><span class="pre">--preset</span> <span class="pre">[name]</span></code> when configuring.</p>
<p>Preset values for common scenarios are listed below. Using a platform preset is recommended to avoid needing to specify many fine-grained build options.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">arm-baremetal</span></code> - Build for bare-metal ARM targets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ios</span></code> - Build features and backends common for iOS targets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">macos</span></code> - Build features and backends common for Mac targets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linux</span></code> - Build features and backends for Linux targets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">llm</span></code> - Build Large Language Model-specific features.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">profiling</span></code> - Build the ExecuTorch runtime with profiling enabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zephyr</span></code> - Build for Zephyr RTOS.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configure the build with the ios preset.</span>
cmake<span class="w"> </span>..<span class="w"> </span>--preset<span class="w"> </span>ios
</pre></div>
</div>
</section>
<section id="cmake-targets-and-libraries">
<h3>CMake Targets and Libraries<a class="headerlink" href="#cmake-targets-and-libraries" title="Link to this heading">#</a></h3>
<p>To link against the ExecuTorch framework from CMake, the following top-level targets are exposed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">executorch::backends</span></code>: Contains all configured backends.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">executorch::extensions</span></code>: Contains all configured extensions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">executorch::kernels</span></code>: Contains all configured kernel libraries.</p></li>
</ul>
<p>The backends, extensions, and kernels included in these targets are controlled by the various <code class="docutils literal notranslate"><span class="pre">EXECUTORCH_</span></code> CMake options specified by the build. Using these targets will automatically pull in the required dependencies to use the configured features.</p>
</section>
<section id="running-an-example-model">
<h3>Running an Example Model<a class="headerlink" href="#running-an-example-model" title="Link to this heading">#</a></h3>
<p>The example <code class="docutils literal notranslate"><span class="pre">executor_runner</span></code> binary can be used to run a model and sanity-check the build. Run the following commands to generate and run a simple model.
You should see the message “Model executed successfully” followed by the output values.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>examples.portable.scripts.export<span class="w"> </span>--model_name<span class="o">=</span><span class="s2">&quot;add&quot;</span>
./cmake-out/executor_runner<span class="w"> </span>--model_path<span class="w"> </span>add.pte
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">I</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000526</span> <span class="n">executorch</span><span class="p">:</span><span class="n">executor_runner</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">82</span><span class="p">]</span> <span class="n">Model</span> <span class="n">file</span> <span class="n">add</span><span class="o">.</span><span class="n">pte</span> <span class="ow">is</span> <span class="n">loaded</span><span class="o">.</span>
<span class="n">I</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000595</span> <span class="n">executorch</span><span class="p">:</span><span class="n">executor_runner</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">91</span><span class="p">]</span> <span class="n">Using</span> <span class="n">method</span> <span class="n">forward</span>
<span class="n">I</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000612</span> <span class="n">executorch</span><span class="p">:</span><span class="n">executor_runner</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">138</span><span class="p">]</span> <span class="n">Setting</span> <span class="n">up</span> <span class="n">planned</span> <span class="n">buffer</span> <span class="mi">0</span><span class="p">,</span> <span class="n">size</span> <span class="mf">48.</span>
<span class="n">I</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000669</span> <span class="n">executorch</span><span class="p">:</span><span class="n">executor_runner</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">161</span><span class="p">]</span> <span class="n">Method</span> <span class="n">loaded</span><span class="o">.</span>
<span class="n">I</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000685</span> <span class="n">executorch</span><span class="p">:</span><span class="n">executor_runner</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">171</span><span class="p">]</span> <span class="n">Inputs</span> <span class="n">prepared</span><span class="o">.</span>
<span class="n">I</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000764</span> <span class="n">executorch</span><span class="p">:</span><span class="n">executor_runner</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">180</span><span class="p">]</span> <span class="n">Model</span> <span class="n">executed</span> <span class="n">successfully</span><span class="o">.</span>
<span class="n">I</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">00.000770</span> <span class="n">executorch</span><span class="p">:</span><span class="n">executor_runner</span><span class="o">.</span><span class="n">cpp</span><span class="p">:</span><span class="mi">184</span><span class="p">]</span> <span class="mi">1</span> <span class="n">outputs</span><span class="p">:</span>
<span class="n">Output</span> <span class="mi">0</span><span class="p">:</span> <span class="n">tensor</span><span class="p">(</span><span class="n">sizes</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mf">2.</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="compiler-cache-ccache">
<h3>Compiler Cache (ccache)<a class="headerlink" href="#compiler-cache-ccache" title="Link to this heading">#</a></h3>
<p>ExecuTorch automatically detects and enables <a class="reference external" href="https://ccache.dev/">ccache</a> if it’s installed. This significantly speeds up recompilation by caching previously compiled objects:</p>
<ul class="simple">
<li><p>If ccache is detected, you’ll see: <code class="docutils literal notranslate"><span class="pre">ccache</span> <span class="pre">found</span> <span class="pre">and</span> <span class="pre">enabled</span> <span class="pre">for</span> <span class="pre">faster</span> <span class="pre">builds</span></code></p></li>
<li><p>If ccache is not installed, you’ll see: <code class="docutils literal notranslate"><span class="pre">ccache</span> <span class="pre">not</span> <span class="pre">found,</span> <span class="pre">builds</span> <span class="pre">will</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">cached</span></code></p></li>
</ul>
<p>To install ccache:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ubuntu/Debian</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>ccache

<span class="c1"># macOS</span>
brew<span class="w"> </span>install<span class="w"> </span>ccache

<span class="c1"># CentOS/RHEL</span>
sudo<span class="w"> </span>yum<span class="w"> </span>install<span class="w"> </span>ccache
<span class="c1"># or</span>
sudo<span class="w"> </span>dnf<span class="w"> </span>install<span class="w"> </span>ccache
</pre></div>
</div>
<p>No additional configuration is needed - the build system will automatically use ccache when available.</p>
<p>See <a class="reference external" href="https://github.com/pytorch/executorch/blob/main/CMakeLists.txt">CMakeLists.txt</a></p>
<hr/>
</section>
</section>
<section id="build-options">
<h2>Build Options<a class="headerlink" href="#build-options" title="Link to this heading">#</a></h2>
<p>CMake options can be used to for fine-grained control of build type, control which features are built, and configure functionality, such as logging. Options are typically specified during CMake configuration. Default values of each option are set by the active preset, but can be overridden by specifying the option when configuring.</p>
<p>Note that many build options require other options to be enabled. This may require enabling multiple options to enable a given feature. The CMake build output will provide an error message when a required option is not enabled.</p>
<section id="build-type">
<h3>Build Type<a class="headerlink" href="#build-type" title="Link to this heading">#</a></h3>
<p>The CMake build is typically set to <code class="docutils literal notranslate"><span class="pre">Debug</span></code> or <code class="docutils literal notranslate"><span class="pre">Release</span></code>. For production use or profiling, release mode should be used to improve performance and reduce binary size. It disables program verification and executorch logging and adds optimizations flags. The <code class="docutils literal notranslate"><span class="pre">EXECUTORCH_OPTIMIZE_SIZE</span></code> flag can be used to further optimize for size with a small performance tradeoff.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Specify build type during CMake configuration</span>
cmake<span class="w"> </span>..<span class="w"> </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release
</pre></div>
</div>
</section>
<section id="backends">
<h3>Backends<a class="headerlink" href="#backends" title="Link to this heading">#</a></h3>
<p>Typically, each hardware backend exposes a CMake option to control whether the backend is built. See backend-specific documentation for more details.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_CADENCE</span></code> - Build the Cadence DSP backend.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_COREML</span></code> - Build the Apple CoreML backend.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_CORTEX_M</span></code> - Build the ARM Cortex-M backend.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_MPS</span></code> - Build the Apple Metal Performance Shader backend.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_NEURON</span></code> - Build the MediaTek Neuron backend.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_OPENVINO</span></code> - Build the Intel OpenVINO backend.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_QNN</span></code> - Build the Qualcomm AI Engine backend.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_VGF</span></code> - Build the ARM VGF backend.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_VULKAN</span></code> - Build the Vulkan GPU backend.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_XNNPACK</span></code> - Build the XNNPACK CPU backend.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Build the XNNPACK and Vulkan backends.</span>
cmake<span class="w"> </span>..<span class="w"> </span>-DEXECUTORCH_BUILD_XNNPACK<span class="o">=</span>ON<span class="w"> </span>-DEXECUTORCH_BUILD_VULKAN<span class="o">=</span>ON
</pre></div>
</div>
</section>
<section id="extensions">
<h3>Extensions<a class="headerlink" href="#extensions" title="Link to this heading">#</a></h3>
<p>ExecuTorch extensions provide optional functionality outside of the core runtime. As the core runtime is designed to run in constrained environments, these features are typically disabled by default. Extensions include higher-level APIs (Module and Tensor), multi-threading support (Threadpool), training, and more.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_APPLE</span></code> - Build the Apple extension. This provides Swift and Objective-C bindings, log routing, and platform integration with Mac and iOS. See <a class="reference internal" href="using-executorch-ios.html"><span class="std std-doc">Using ExecuTorch on iOS</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_DATA_LOADER</span></code> - Build the data loader extension. Provides classes to load PTEs from files or buffers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_FLAT_TENSOR</span></code> - Build the flat tensor extension. Provides functionality to load and save tensor data in .ptd format.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_LLM</span></code> - Build the Large Language Model extension. Provides LLM-specific functionality, such as tokenizer APIs. See <a class="reference internal" href="llm/getting-started.html"><span class="std std-doc">Working with LLMs</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_LLM_APPLE</span></code> - Build the Large Language Model Apple extensions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_LLM_RUNNER</span></code> - Build the Large Language Model runner extension.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_MODULE</span></code> - Build the Module API extension. See <a class="reference internal" href="using-executorch-cpp.html#high-level-apis"><span class="std std-ref">High-Level APIs</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_TENSOR</span></code> - Build the Tensor API extension. Provides convenience APIs for creating and managing tensors. See <a class="reference internal" href="using-executorch-cpp.html#high-level-apis"><span class="std std-ref">High-Level APIs</span></a> and <a class="reference external" href="https://github.com/pytorch/executorch/tree/main/extension/tensor">extension/tensor</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_TRAINING</span></code> - Build the training extension. This is experimental.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_EVALUE_UTIL</span></code> - Build the EValue utility extension. Provides a method to print EValue objects. See <a class="reference external" href="https://github.com/pytorch/executorch/blob/main/extension/evalue_util/print_evalue.h">print_evalue.h</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_BUILD_EXTENSION_RUNNER_UTIL</span></code> - Build the runner utility extension. Provides utility methods for running models, such as allocating input and output tensor memory and generating inputs. See <a class="reference external" href="https://github.com/pytorch/executorch/blob/main/examples/portable/executor_runner/executor_runner.cpp">executor_runner.cpp</a> for example usage.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enable the data loader extension.</span>
<span class="n">cmake</span> <span class="o">..</span> <span class="o">-</span><span class="n">DEXECUTORCH_BUILD_EXTENSION_DATA_LOADER</span><span class="o">=</span><span class="n">ON</span>
</pre></div>
</div>
</section>
<section id="logging">
<h3>Logging<a class="headerlink" href="#logging" title="Link to this heading">#</a></h3>
<p>Logging is enabled by default in debug builds and disabled in release. When enabled, the default log level is Info. Both log enable and level can be overriden with options. See <a class="reference internal" href="using-executorch-runtime-integration.html#logging"><span class="std std-ref">Logging</span></a>. Disabling logging and decreasing log verbosity will reduce binary size by stripping unused strings from the build.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_ENABLE_LOGGING</span></code> - Enable or disable framework log messages.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXECUTORCH_LOG_LEVEL</span></code> - The minimum log level to emit. One of <code class="docutils literal notranslate"><span class="pre">debug</span></code>, <code class="docutils literal notranslate"><span class="pre">info</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>, or <code class="docutils literal notranslate"><span class="pre">fatal</span></code>.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enable logging at debug</span>
<span class="n">cmake</span> <span class="o">..</span> <span class="o">-</span><span class="n">DEXECUTORCH_ENABLE_LOGGING</span><span class="o">=</span><span class="n">ON</span> <span class="o">-</span><span class="n">DEXECUTORCH_LOG_LEVEL</span><span class="o">=</span><span class="n">debug</span>
</pre></div>
</div>
</section>
<section id="output-libraries">
<h3>Output Libraries<a class="headerlink" href="#output-libraries" title="Link to this heading">#</a></h3>
<p>To link against the runtime from outside of the CMake ecosystem, the runtime can be first built with CMake and then linked directly. A few of the relevant top-level targets are described below. Note that this is a more involved process than using CMake and is only recommended when using CMake is not viable.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">libexecutorch.a</span></code>: The core of the ExecuTorch runtime. Does not contain any
operator/kernel definitions or backend definitions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libportable_kernels.a</span></code>: The implementations of ATen-compatible operators,
following the signatures in <code class="docutils literal notranslate"><span class="pre">//kernels/portable/functions.yaml</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">libportable_kernels_bindings.a</span></code>: Generated code that registers the contents
of <code class="docutils literal notranslate"><span class="pre">libportable_kernels.a</span></code> with the runtime.</p>
<ul>
<li><p>NOTE: This must be linked into your application with a flag like
<code class="docutils literal notranslate"><span class="pre">-Wl,-force_load</span></code> or <code class="docutils literal notranslate"><span class="pre">-Wl,--whole-archive</span></code>. It contains load-time functions
that automatically register the kernels, but linkers will often prune those
functions by default because there are no direct calls to them.
<code class="docutils literal notranslate"><span class="pre">libportable_kernels.a</span></code>, so the program may use any of the operators it
implements.</p></li>
</ul>
</li>
</ul>
<p>Backends typically introduce additional targets. See backend-specific documentation for more details.</p>
<hr/>
</section>
</section>
<section id="cross-compiling-for-android">
<h2>Cross-Compiling for Android<a class="headerlink" href="#cross-compiling-for-android" title="Link to this heading">#</a></h2>
<section id="pre-requisites">
<h3>Pre-requisites<a class="headerlink" href="#pre-requisites" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Set up a Python environment and clone the ExecuTorch repository, as described in <a class="reference internal" href="#environment-setup">Environment Setup</a>.</p></li>
<li><p>Install the <a class="reference external" href="https://developer.android.com/studio">Android SDK</a>. Android Studio is recommended.</p></li>
<li><p>Install the <a class="reference external" href="https://developer.android.com/ndk">Android NDK</a>.</p>
<ul>
<li><p>Option 1: Install via <a class="reference external" href="https://developer.android.com/studio/projects/install-ndk">Android Studio</a>.</p></li>
<li><p>Option 2: Download from <a class="reference external" href="https://developer.android.com/ndk/downloads">NDK Downloads</a>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="building-the-aar">
<h3>Building the AAR<a class="headerlink" href="#building-the-aar" title="Link to this heading">#</a></h3>
<p>With the NDK installed, the <code class="docutils literal notranslate"><span class="pre">build_android_library.sh</span></code> script will build the ExecuTorch Java AAR. This file contains the ExecuTorch Java bindings
and native code. See <a class="reference internal" href="using-executorch-android.html#using-aar-file"><span class="std std-ref">Using the AAR File</span></a> for usage.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">ANDROID_ABIS</span><span class="o">=</span>arm64-v8a
<span class="nb">export</span><span class="w"> </span><span class="nv">BUILD_AAR_DIR</span><span class="o">=</span>aar-out
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$BUILD_AAR_DIR</span>
sh<span class="w"> </span>scripts/build_android_library.sh
</pre></div>
</div>
</section>
<section id="building-the-example-runner">
<h3>Building the Example Runner<a class="headerlink" href="#building-the-example-runner" title="Link to this heading">#</a></h3>
<p>The native executor runner can be cross-compiled for android and deployed via ADB. This step is intended as
an example of CMake cross compilation and is not necessary for integration into an app.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run the following lines from the `executorch/` folder</span>
./install_executorch.sh<span class="w"> </span>--clean
mkdir<span class="w"> </span>cmake-android-out<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>cmake-android-out

<span class="c1"># point -DCMAKE_TOOLCHAIN_FILE to the location where ndk is installed</span>
cmake<span class="w"> </span>-DCMAKE_TOOLCHAIN_FILE<span class="o">=</span><span class="nv">$ANDROID_NDK</span>/build/cmake/android.toolchain.cmake<span class="w">  </span>-DANDROID_ABI<span class="o">=</span>arm64-v8a<span class="w"> </span>..

<span class="nb">cd</span><span class="w">  </span>..
cmake<span class="w"> </span>--build<span class="w">  </span>cmake-android-out<span class="w">  </span>-j9

adb<span class="w"> </span>shell<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/data/local/tmp/executorch
<span class="c1"># push the binary to an Android device</span>
adb<span class="w"> </span>push<span class="w">  </span>cmake-android-out/executor_runner<span class="w">  </span>/data/local/tmp/executorch
<span class="c1"># push the model file</span>
adb<span class="w"> </span>push<span class="w">  </span>add.pte<span class="w">  </span>/data/local/tmp/executorch

adb<span class="w"> </span>shell<span class="w">  </span><span class="s2">&quot;/data/local/tmp/executorch/executor_runner --model_path /data/local/tmp/executorch/add.pte&quot;</span>
</pre></div>
</div>
<hr/>
</section>
</section>
<section id="cross-compiling-for-ios">
<h2>Cross-Compiling for iOS<a class="headerlink" href="#cross-compiling-for-ios" title="Link to this heading">#</a></h2>
<p>For iOS, we’ll build <a class="reference external" href="https://developer.apple.com/documentation/xcode/creating-a-multi-platform-binary-framework-bundle">frameworks</a> instead of static libraries. The frameworks contain the compiled ExecuTorch runtime and public headers.</p>
<section id="id1">
<h3>Pre-requisites<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Install Xcode from the
<a class="reference external" href="https://apps.apple.com/app/xcode/id497799835">Mac App Store</a> and install
the Command Line Tools using the terminal.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>xcode-select<span class="w"> </span>--install
</pre></div>
</div>
</section>
<section id="id2">
<h3>Building<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Build the frameworks:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/build_apple_frameworks.sh
</pre></div>
</div>
<p>Run the above command with <code class="docutils literal notranslate"><span class="pre">--help</span></code> flag to learn more on how to build additional backends
(like <a class="reference internal" href="#backends-coreml.md"><span class="xref myst">Core ML</span></a>, <a class="reference internal" href="backends-mps.html"><span class="std std-doc">MPS</span></a> or XNNPACK), etc.
Note that some backends may require additional dependencies and certain versions of Xcode and iOS.
See backend-specific documentation for more details.</p>
<ol class="arabic simple" start="2">
<li><p>Copy over the generated <code class="docutils literal notranslate"><span class="pre">.xcframework</span></code> bundles to your Xcode project, link them against
your targets and don’t forget to add an extra linker flag <code class="docutils literal notranslate"><span class="pre">-all_load</span></code>.</p></li>
</ol>
<p>Check out the <a class="reference external" href="https://github.com/meta-pytorch/executorch-examples/tree/main/mv3/apple/ExecuTorchDemo">iOS Demo App</a> tutorial for more info.</p>
<hr/>
</section>
</section>
<section id="building-on-windows">
<h2>Building on Windows<a class="headerlink" href="#building-on-windows" title="Link to this heading">#</a></h2>
<p>ExecuTorch provides experimental support for native Windows builds.</p>
<blockquote>
<div><p><strong><em>NOTE:</em></strong>  All commands should be executed on Windows powershell in administrator mode.</p>
</div></blockquote>
<section id="id3">
<h3>Environment Setup<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<section id="id4">
<h4>Pre-requisites<a class="headerlink" href="#id4" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Install miniconda for Windows from the <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">official website</a>.</p></li>
<li><p>Install Git for Windows from the <a class="reference external" href="https://git-scm.com/download/win">official website</a>.</p></li>
<li><p>Install ClangCL for Windows from the <a class="reference external" href="https://learn.microsoft.com/en-us/cpp/build/clang-support-msbuild?view=msvc-170">official website</a> or through a <a class="reference external" href="https://learn.microsoft.com/en-us/cpp/build/clang-support-msbuild?view=msvc-170">Visual Studio</a> or <a class="reference external" href="https://code.visualstudio.com/docs/cpp/config-clang-mac">Visual Studio Code</a> installation.</p></li>
</ol>
</section>
<section id="clone-and-configure-environment">
<h4>Clone and Configure Environment<a class="headerlink" href="#clone-and-configure-environment" title="Link to this heading">#</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>config<span class="w"> </span>--global<span class="w"> </span>core.symlinks<span class="w"> </span><span class="nb">true</span>
git<span class="w"> </span>clone<span class="w"> </span>--recurse<span class="w"> </span>-submodules<span class="w"> </span>https://github.com/pytorch/executorch.git
<span class="nb">cd</span><span class="w"> </span>executorch
conda<span class="w"> </span>create<span class="w"> </span>-yn<span class="w"> </span>et<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.12
conda<span class="w"> </span>activate<span class="w"> </span>et
</pre></div>
</div>
<p>If Conda is not available, run conda-hook.ps1, where <code class="docutils literal notranslate"><span class="pre">$miniconda_dir</span></code> is the directory where miniconda is installed.
This is <code class="docutils literal notranslate"><span class="pre">“C:\Users\&lt;username&gt;\AppData\Local”</span></code> by default.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">$miniconda_dir</span><span class="se">\\</span>shell<span class="se">\\</span>condabin<span class="se">\\</span>conda-hook.ps1
</pre></div>
</div>
</section>
</section>
<section id="build-the-python-package">
<h3>Build the Python Package<a class="headerlink" href="#build-the-python-package" title="Link to this heading">#</a></h3>
<p>Run <code class="docutils literal notranslate"><span class="pre">install_executorch.bat</span></code> to build and install the ExecuTorch Python package and runtime bindings.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>executorch
./install_executorch.bat
</pre></div>
</div>
<blockquote>
<div><p><strong><em>NOTE</em></strong> Many components are not currently buildable on Windows. These instructions install a very minimal ExecuTorch which can be used as a sanity check.</p>
</div></blockquote>
</section>
<section id="build-the-c-runtime">
<h3>Build the C++ Runtime<a class="headerlink" href="#build-the-c-runtime" title="Link to this heading">#</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>del<span class="w"> </span>-Recurse<span class="w"> </span>-Force<span class="w"> </span>cmake-out<span class="p">;</span><span class="w"> </span><span class="sb">`</span>
cmake<span class="w"> </span>.<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span>cmake-out<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DPYTHON_EXECUTABLE<span class="o">=</span><span class="nv">$miniconda_dir</span><span class="se">\\</span>envs<span class="se">\\</span>et<span class="se">\\</span>python.exe<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DCMAKE_PREFIX_PATH<span class="o">=</span><span class="nv">$miniconda_dir</span><span class="se">\\</span>envs<span class="se">\\</span>et<span class="se">\\</span>Lib<span class="se">\\</span>site-packages<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Release<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DEXECUTORCH_BUILD_EXTENSION_TENSOR<span class="o">=</span>ON<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DEXECUTORCH_BUILD_FLATC<span class="o">=</span>ON<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DEXECUTORCH_BUILD_PYBIND<span class="o">=</span>OFF<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DEXECUTORCH_BUILD_XNNPACK<span class="o">=</span>ON<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DEXECUTORCH_BUILD_KERNELS_LLM<span class="o">=</span>ON<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DEXECUTORCH_BUILD_KERNELS_OPTIMIZED<span class="o">=</span>ON<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DEXECUTORCH_BUILD_KERNELS_QUANTIZED<span class="o">=</span>ON<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-DEXECUTORCH_ENABLE_LOGGING<span class="o">=</span>ON<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-T<span class="w"> </span>ClangCL<span class="w"> </span><span class="sb">`</span>
<span class="w">  </span>-Bcmake-out<span class="p">;</span><span class="w"> </span><span class="sb">`</span>
cmake<span class="w"> </span>--build<span class="w"> </span>cmake-out<span class="w"> </span>-j64<span class="w"> </span>--target<span class="w"> </span>install<span class="w"> </span>--config<span class="w"> </span>Release
</pre></div>
</div>
<blockquote>
<div><p><strong><em>NOTE</em></strong> <code class="docutils literal notranslate"><span class="pre">$miniconda_dir</span></code> is the directory where you installed miniconda. This is <code class="docutils literal notranslate"><span class="pre">“C:\Users\&lt;username&gt;\AppData\Local”</span></code> by default.</p>
</div></blockquote>
</section>
<section id="id5">
<h3>Running an Example Model<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>To validate the installation by running a model, create a file named export_mv2.py. Then, run the powershell commands to export and run the model.
The expected output is a tensor of size 1x1000, containing class scores.</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="c1"># export_mv2.py</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">executorch.exir</span><span class="w"> </span><span class="kn">import</span> <span class="n">to_edge_transform_and_lower</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">executorch.backends.xnnpack.partition.xnnpack_partitioner</span><span class="w"> </span><span class="kn">import</span> <span class="n">XnnpackPartitioner</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchvision.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">mobilenet_v2</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">torchvision.models.mobilenetv2</span><span class="w"> </span><span class="kn">import</span> <span class="n">MobileNet_V2_Weights</span>

<span class="n">mv2</span> <span class="o">=</span> <span class="n">mobilenet_v2</span><span class="p">(</span><span class="n">weights</span><span class="o">=</span><span class="n">MobileNet_V2_Weights</span><span class="o">.</span><span class="n">DEFAULT</span><span class="p">)</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
<span class="n">example_inputs</span> <span class="o">=</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">randn</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span> <span class="mi">224</span><span class="p">)),)</span>

<span class="n">program</span> <span class="o">=</span> <span class="n">to_edge_transform_and_lower</span><span class="p">(</span>
  <span class="n">torch</span><span class="o">.</span><span class="n">export</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">example_inputs</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">to_executorch</span><span class="p">()</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;mv2_xnnpack.pte&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
    <span class="n">executorch_program</span><span class="o">.</span><span class="n">write_to_file</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>.<span class="se">\\</span>export_mv2.py
.<span class="se">\\</span>cmake-out<span class="se">\\</span>backends<span class="se">\\</span>xnnpack<span class="se">\\</span>Release<span class="se">\\</span>xnn_executor_runner.exe<span class="w"> </span>--model_path<span class="o">=</span>.<span class="se">\\</span>mv2_xnnpack.pte
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Output<span class="w"> </span><span class="m">0</span>:<span class="w"> </span>tensor<span class="o">(</span><span class="nv">sizes</span><span class="o">=[</span><span class="m">1</span>,<span class="w"> </span><span class="m">1000</span><span class="o">]</span>,<span class="w"> </span><span class="o">[</span>
<span class="w">  </span>-0.50986,<span class="w"> </span><span class="m">0</span>.30064,<span class="w"> </span><span class="m">0</span>.0953904,<span class="w"> </span><span class="m">0</span>.147726,<span class="w"> </span><span class="m">0</span>.231205,<span class="w"> </span><span class="m">0</span>.338555,<span class="w"> </span><span class="m">0</span>.206892,<span class="w"> </span>-0.0575775,<span class="w"> </span>…<span class="w"> </span><span class="o">])</span>
</pre></div>
</div>
</section>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="kernel-library-selective-build.html"><span class="std std-doc">Selective Build</span></a> to link only kernels used by the program. This can provide significant binary size savings.</p></li>
<li><p>Tutorials on building <a class="reference external" href="https://github.com/meta-pytorch/executorch-examples/tree/main/dl3/android/DeepLabV3Demo#executorch-android-demo-app">Android</a> and <a class="reference external" href="https://github.com/meta-pytorch/executorch-examples/tree/main/mv3/apple/ExecuTorchDemo">iOS</a> demo apps.</p></li>
<li><p>Tutorials on deploying applications to embedded devices such as <a class="reference internal" href="backends-arm-ethos-u.html"><span class="std std-doc">ARM Cortex-M/Ethos-U</span></a> and <a class="reference internal" href="backends-cadence.html"><span class="std std-doc">XTensa HiFi DSP</span></a>.</p></li>
</ul>
</section>
</section>


                </article>
              
  </article>
  
              
              
                <footer class="bd-footer-article">
                  <div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item">
<div class="feedback">
  
<div class="rating">
    Rate this Page
    <div class="stars">
        
        <span class="star" data-behavior="tutorial-rating" data-count="1" data-value="1">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="2" data-value="2">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="3" data-value="3">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="4" data-value="4">★</span>
        
        <span class="star" data-behavior="tutorial-rating" data-count="5" data-value="5">★</span>
        
    </div>
</div>

  <div class="feedback-send">
    <button class="feedback-btn"
            onclick="openGitHubIssue()"
            data-bs-title="Create a GitHub Issue"
            data-bs-placement="bottom"
            data-bs-toggle="tooltip"
            data-gtm="feedback-btn-click">Send Feedback
    </button>
  </div>
</div>

<div class="prev-next-area">
    <a class="left-prev"
       href="using-executorch-export.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Model Export and Lowering</p>
      </div>
    </a>
    <a class="right-next"
       href="edge-platforms-section.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Edge</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>

<div class="footer-info">
  <p class="copyright">
    
  </p>

  <p class="theme-version">
    Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
  </p>
</div>
</div>
  
</div>
                </footer>
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="using-executorch-export.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Model Export and Lowering</p>
      </div>
    </a>
    <a class="right-next"
       href="edge-platforms-section.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Edge</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc">
<div class="sidebar-secondary-items sidebar-secondary__inner">
    
       <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#system-requirements">System Requirements</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#operating-system">Operating System</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#software-requirements">Software Requirements</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#environment-setup">Environment Setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-the-python-package">Building the Python package</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#editable-install">Editable Install</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-the-c-runtime">Building the C++ Runtime</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#configuring">Configuring</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#building">Building</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-presets">Build Presets</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cmake-targets-and-libraries">CMake Targets and Libraries</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#running-an-example-model">Running an Example Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compiler-cache-ccache">Compiler Cache (ccache)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#build-options">Build Options</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-type">Build Type</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#backends">Backends</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extensions">Extensions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#logging">Logging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#output-libraries">Output Libraries</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cross-compiling-for-android">Cross-Compiling for Android</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-requisites">Pre-requisites</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#building-the-aar">Building the AAR</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#building-the-example-runner">Building the Example Runner</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cross-compiling-for-ios">Cross-Compiling for iOS</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Pre-requisites</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Building</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-on-windows">Building on Windows</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Environment Setup</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Pre-requisites</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#clone-and-configure-environment">Clone and Configure Environment</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-the-python-package">Build the Python Package</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#build-the-c-runtime">Build the C++ Runtime</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Running an Example Model</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next Steps</a></li>
</ul>
  </nav></div>
    
       <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/pytorch/executorch/edit/main/docs/source/using-executorch-building-from-source.md">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>
    
       <div class="sidebar-secondary-item">
    <div class="tocsection sourcelink">
      <a href="_sources/using-executorch-building-from-source.md.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
      </a>
    </div>
</div>
    




</div>
</div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  

<div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <h2>Docs</h2>
        <p>Access comprehensive developer documentation for PyTorch</p>
        <a class="with-right-arrow" href="https://docs.pytorch.org/docs/stable/index.html">View Docs</a>
      </div>

      <div class="col-md-4">
        <h2>Tutorials</h2>
        <p>Get in-depth tutorials for beginners and advanced developers</p>
        <a class="with-right-arrow" href="https://docs.pytorch.org/tutorials">View Tutorials</a>
      </div>

      <div class="col-md-4">
        <h2>Resources</h2>
        <p>Find development resources and get your questions answered</p>
        <a class="with-right-arrow" href="https://pytorch.org/resources">View Resources</a>
      </div>
    </div>
  </div>
</div>




<footer class="site-footer">

  <div class="container footer-container">

    <div class="newsletter" id="newsletter">

      <p class="newsletter__title is-style-max-width-800"><strong>Stay in touch</strong> for updates, event info, and
        the latest news</p>


      <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/embed/v2.js"></script>
      <script>
        hbspt.forms.create({
          region: "na1",
          portalId: "8112310",
          formId: "2fb2231c-000b-4ec5-88a0-1ab242549c9e"
        });
      </script>


      <p class="newsletter__privacy">By submitting this form, I consent to receive marketing emails from the LF and its
        projects regarding their events, training, research, developments, and related announcements. I understand that
        I can unsubscribe at any time using the links in the footers of the emails I receive. <a
          href="https://www.linuxfoundation.org/privacy/">Privacy Policy</a>.</p>

    </div>

    <div class="lf-grid">
      <ul class="social-links">
        <li><a href="https://www.facebook.com/pytorch" target="_blank" title="PyTorch on Facebook">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="-0.51 -0.26 26.45 26.45" aria-label="Facebook">
              <path fill="currentColor"
                d="M25.497 13.075c0-2.45-.698-4.848-2.011-6.911a12.765 12.765 0 0 0-5.398-4.73A12.671 12.671 0 0 0 11.008.38a12.705 12.705 0 0 0-6.529 2.95A12.827 12.827 0 0 0 .563 9.358a12.896 12.896 0 0 0-.07 7.201 12.831 12.831 0 0 0 3.801 6.103 12.709 12.709 0 0 0 6.471 3.078v-8.957H7.53v-3.708h3.235v-2.824c0-3.213 1.903-4.988 4.813-4.988.956.014 1.909.097 2.852.25V8.67h-1.607a1.83 1.83 0 0 0-1.518.497 1.854 1.854 0 0 0-.561 1.505v2.404h3.535l-.563 3.708h-2.97v8.957a12.725 12.725 0 0 0 7.697-4.337 12.87 12.87 0 0 0 3.054-8.328z" />
            </svg>
          </a></li>
        <li><a href="https://twitter.com/pytorch" target="_blank" title="PyTorch on X">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 300 300" aria-label="X">
              <path fill="currentColor"
                d="M178.57 127.15 290.27 0h-26.46l-97.03 110.38L89.34 0H0l117.13 166.93L0 300.25h26.46l102.4-116.59 81.8 116.59h89.34M36.01 19.54H76.66l187.13 262.13h-40.66" />
            </svg>
          </a></li>
        <li><a href="https://www.youtube.com/pytorch" target="_blank" title="PyTorch on YouTube">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0.21 0.27 34.45 25.07" aria-label="YouTube">
              <path fill="currentColor"
                d="M33.729 6.084s-.327-2.33-1.317-3.356a4.691 4.691 0 0 0-3.32-1.432c-4.634-.34-11.589-.34-11.589-.34h-.014s-6.954 0-11.59.342a4.692 4.692 0 0 0-3.32 1.432c-.993 1.025-1.315 3.354-1.315 3.354a52.189 52.189 0 0 0-.331 5.473v2.566c.014 1.829.125 3.656.331 5.472 0 0 .322 2.33 1.316 3.36 1.26 1.345 2.916 1.3 3.653 1.445 2.65.26 11.263.34 11.263.34s6.96-.01 11.597-.353a4.691 4.691 0 0 0 3.32-1.432c.993-1.026 1.316-3.356 1.316-3.356.206-1.817.316-3.644.33-5.473v-2.57a52.26 52.26 0 0 0-.33-5.472zM14.076 17.232V7.729l8.951 4.768-8.95 4.735z" />
            </svg>
          </a></li>
        <li><a href="https://www.linkedin.com/company/pytorch" target="_blank" title="PyTorch on LinkedIn">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="-10.23 -10.23 531.96 531.96" aria-label="LinkedIn">
              <rect width="512" height="512" rx="0" fill="currentColor" />
              <circle fill="#000" cx="142" cy="138" r="37" />
              <path stroke="#000" stroke-width="66" d="M244 194v198M142 194v198" />
              <path fill="#000"
                d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32" />
            </svg>
          </a></li>
        <li><a href="https://pytorch.slack.com" target="_blank" title="PyTorch Slack">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0.16 -0.03 21.19 21.19" aria-label="Slack">
              <path fill="currentColor"
                d="M4.896 13.27a2.147 2.147 0 0 1-2.141 2.142A2.147 2.147 0 0 1 .613 13.27c0-1.178.963-2.141 2.142-2.141h2.141v2.141zm1.08 0c0-1.178.962-2.141 2.141-2.141s2.142.963 2.142 2.141v5.363a2.147 2.147 0 0 1-2.142 2.141 2.147 2.147 0 0 1-2.141-2.142V13.27zm2.141-8.6a2.147 2.147 0 0 1-2.141-2.14c0-1.18.962-2.142 2.141-2.142s2.142.963 2.142 2.141v2.142H8.117zm0 1.08c1.179 0 2.141.962 2.141 2.141a2.147 2.147 0 0 1-2.141 2.142H2.755A2.147 2.147 0 0 1 .613 7.89c0-1.179.963-2.141 2.142-2.141h5.362zm8.599 2.141c0-1.179.963-2.141 2.141-2.141 1.179 0 2.143.962 2.143 2.14a2.147 2.147 0 0 1-2.142 2.142h-2.141V7.89zm-1.08 0a2.147 2.147 0 0 1-2.141 2.142 2.147 2.147 0 0 1-2.141-2.142V2.53c0-1.178.962-2.141 2.141-2.141s2.142.963 2.142 2.141v5.362zm-2.141 8.6c1.179 0 2.142.962 2.142 2.14a2.147 2.147 0 0 1-2.142 2.142 2.147 2.147 0 0 1-2.141-2.141V16.49h2.141zm0-1.08a2.147 2.147 0 0 1-2.141-2.141c0-1.179.962-2.142 2.141-2.142h5.362c1.179 0 2.142.963 2.142 2.142a2.147 2.147 0 0 1-2.142 2.142h-5.362z">
              </path>
            </svg>
          </a></li>
        <li><a href="https://pytorch.org/wechat" title="PyTorch on WeChat">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0.14 -0.17 38.02 33.02" aria-label="WeChat">
              <path fill="currentColor"
                d="M26.289 10.976a12.972 12.972 0 0 0-8.742 3.53 10.386 10.386 0 0 0-3.224 8.795c-1.326-.164-2.535-.345-3.75-.448a2.332 2.332 0 0 0-1.273.216c-1.18.666-2.311 1.418-3.652 2.255.246-1.112.405-2.087.687-3.024a1.15 1.15 0 0 0-.523-1.52C1.737 17.902.02 13.601 1.307 9.165c1.189-4.1 4.11-6.587 8.077-7.884A13.54 13.54 0 0 1 24.18 5.617a10.135 10.135 0 0 1 2.109 5.359zM10.668 9.594a1.564 1.564 0 0 0-2.095-1.472 1.52 1.52 0 0 0-.895 1.964 1.502 1.502 0 0 0 1.391.966 1.545 1.545 0 0 0 1.598-1.46v.002zm8.15-1.566a1.567 1.567 0 0 0-1.528 1.543 1.528 1.528 0 0 0 1.571 1.492 1.52 1.52 0 0 0 1.375-2.117 1.518 1.518 0 0 0-1.415-.919l-.003.001z">
              </path>
              <path fill="currentColor"
                d="M33.914 32.137c-1.075-.478-2.062-1.196-3.11-1.306-1.049-.11-2.145.494-3.24.605a10.821 10.821 0 0 1-8.781-2.864c-4.682-4.33-4.013-10.97 1.403-14.518 4.811-3.154 11.874-2.102 15.268 2.273a8.671 8.671 0 0 1-1.002 12.095c-1.046.929-1.422 1.693-.751 2.917.102.257.174.525.213.798zM21.68 20.292a1.264 1.264 0 1 0 .01-2.528 1.264 1.264 0 0 0-.01 2.528zm7.887-2.526a1.266 1.266 0 0 0-1.256 1.21 1.247 1.247 0 1 0 1.256-1.21z">
              </path>
            </svg>
          </a></li>
      </ul>
    </div>
    
    <div class="privacy-policy">
      <div class="copyright">
      
        <p>
          &copy; PyTorch. Copyright © The Linux Foundation®. All rights reserved. The Linux Foundation has registered
          trademarks and uses trademarks. For more information, including terms of use, privacy policy, and trademark
          usage, please see our <a href="https://www.linuxfoundation.org/legal/policies">Policies</a> page. <a
            href="https://www.linuxfoundation.org/trademark-usage">Trademark Usage</a>. <a
            href="http://www.linuxfoundation.org/privacy">Privacy Policy</a>.
        </p>
        
      </div>
    </div>


  </div>
</footer>

<div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="_static/img/pytorch-x.svg">
  </div>
</div>
  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, ExecuTorch.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  <script type="application/ld+json">
    {
       "@context": "https://schema.org",
       "@type": "Article",
       "name": "Building from Source",
       "headline": "Building from Source",
       "description": "PyTorch Documentation. Explore PyTorch, an open-source machine learning library that accelerates the path from research prototyping to production deployment. Discover tutorials, API references, and guides to help you build and deploy deep learning models efficiently.",
       "url": "/using-executorch-building-from-source.html",
       "articleBody": "Building from Source# ExecuTorch uses CMake as the primary build system. Even if you don\u2019t use CMake directly, CMake can emit scripts for other format like Make, Ninja or Xcode. For information, see cmake-generators(7). System Requirements# Operating System# ExecuTorch is tested on the following systems, although it should also work in similar environments. Linux (x86_64) CentOS 8+ Ubuntu 20.04.6 LTS+ RHEL 8+ macOS (x86_64/ARM64) Big Sur (11.0)+ Windows (x86_64) Windows Subsystem for Linux (WSL) with any of the Linux options Windows 10+ with Visual Studio 2022+ (experimental) Software Requirements# conda or another virtual environment manager conda is recommended as it provides cross-language support and integrates smoothly with pip (Python\u2019s built-in package manager) Otherwise, Python\u2019s built-in virtual environment manager python venv is a good alternative. g++ version 7 or higher, clang++ version 5 or higher, or another C++17-compatible toolchain. python version 3.10-3.12 Xcode Command Line Tools (macOS only) ccache (optional) - A compiler cache that speeds up recompilation Additional dependencies will be installed automatically when running the Python installation. Note that the cross-compilable core runtime code supports a wider range of toolchains, down to C++17. See the Runtime Overview for portability details. Environment Setup# Clone the ExecuTorch repository from GitHub and create a conda environment as follows. Venv can be used in place on conda. git clone -b viable/strict https://github.com/pytorch/executorch.git cd executorch conda create -yn executorch python=3.10.0 conda activate executorch Building the Python package# To build and install the ExecuTorch Python components, used for PTE creation and Python runtime bindings, run the following command. This will install the ExecuTorch python package and its dependencies into the active Python environment. # Install ExecuTorch pip package and its dependencies. ./install_executorch.sh The install_executorch.sh script supports the following flags: --clean: Removes build artifacts. --editable: Install the ExecuTorch python package in editable mode (see Editable Install). --minimal: Install only the minimal set of dependencies required to run ExecuTorch. Do not install dependencies for examples. --use-pt-pinned-commit: Install the pinned PyTorch commit. When not specified, the latest PyTorch nightly build is installed. For Intel-based macOS systems, use --use-pt-pinned-commit --minimal. As PyTorch does not provide pre-built binaries for Intel Mac, installation requires building PyTorch from source. Instructions can be found in PyTorch Installation. Note that only the XNNPACK and CoreML backends are built by default. Additional backends can be enabled or disabled by setting the corresponding CMake flags: # Enable the MPS backend CMAKE_ARGS=\"-DEXECUTORCH_BUILD_MPS=ON\" ./install_executorch.sh Editable Install# For development, include the --editable flag, which allows for local changes to ExecuTorch Python code to be reflected without a re-install. Note that when C++ files are modified, you will need to re-run the full installation to reflect the changes. ./install_executorch.sh --editable # Or you can directly do the following if dependencies are already installed # either via a previous invocation of `./install_executorch.sh` or by explicitly installing requirements via `./install_requirements.sh` first. pip install -e . --no-build-isolation WARNING: Some modules can\u2019t be imported directly in editable mode. This is a known issue and we are actively working on a fix for this. To work around this: # This will fail python -c \"from executorch.exir import CaptureConfig\" # But this will succeed python -c \"from executorch.exir.capture import CaptureConfig\" NOTE: Cleaning the build system When fetching a new version of the upstream repo (via git fetch or git pull) it is a good idea to clean the old build artifacts. The build system does not currently adapt well to changes in build dependencies. You should also update and pull the submodules again, in case their versions have changed. # From the root of the executorch repo: ./install_executorch.sh --clean git submodule sync git submodule update --init --recursive The --clean command removes build artifacts, pip outputs, and also clears the ccache if it\u2019s installed, ensuring a completely fresh build environment. Building the C++ Runtime# The ExecuTorch C++ runtime is built using CMake. It can be compiled standalone to run examples, added as a CMake dependency, or cross-compiled for Android, iOS, or embedded platforms. Configuring# Configuration should be done after cloning, pulling the upstream repo, or changing build options. Once this is done, you won\u2019t need to do it again until you pull from the upstream repo or modify any CMake-related files. # cd to the root of the executorch repo cd executorch # Clean and configure the CMake build system. It\u0027s good practice to do this # whenever cloning or pulling the upstream repo. ./install_executorch.sh --clean (mkdir cmake-out \u0026\u0026 cd cmake-out \u0026\u0026 cmake ..) Building# Build all targets with cmake --build. # cd to the root of the executorch repo cd executorch # Build using the configuration that you previously generated under the # `cmake-out` directory. # # NOTE: The `-j` argument specifies how many jobs/processes to use when # building, and tends to speed up the build significantly. It\u0027s typical to use # \"core count + 1\" as the `-j` value. cmake --build cmake-out -j9 TIP: For faster rebuilds, consider installing ccache (see Compiler Cache section above). On first builds, ccache populates its cache. Subsequent builds with the same compiler flags can be significantly faster. Build Presets# ExecuTorch provides fine-grained control over what is built, as described in Build Options. These options are grouped into CMake presets to cover common scenarios, while providing the ability to override individual options. Presets can be specified when configuring CMake by specifying --preset [name] when configuring. Preset values for common scenarios are listed below. Using a platform preset is recommended to avoid needing to specify many fine-grained build options. arm-baremetal - Build for bare-metal ARM targets. ios - Build features and backends common for iOS targets. macos - Build features and backends common for Mac targets. linux - Build features and backends for Linux targets. llm - Build Large Language Model-specific features. profiling - Build the ExecuTorch runtime with profiling enabled. zephyr - Build for Zephyr RTOS. # Configure the build with the ios preset. cmake .. --preset ios CMake Targets and Libraries# To link against the ExecuTorch framework from CMake, the following top-level targets are exposed: executorch::backends: Contains all configured backends. executorch::extensions: Contains all configured extensions. executorch::kernels: Contains all configured kernel libraries. The backends, extensions, and kernels included in these targets are controlled by the various EXECUTORCH_ CMake options specified by the build. Using these targets will automatically pull in the required dependencies to use the configured features. Running an Example Model# The example executor_runner binary can be used to run a model and sanity-check the build. Run the following commands to generate and run a simple model. You should see the message \u201cModel executed successfully\u201d followed by the output values. python -m examples.portable.scripts.export --model_name=\"add\" ./cmake-out/executor_runner --model_path add.pte I 00:00:00.000526 executorch:executor_runner.cpp:82] Model file add.pte is loaded. I 00:00:00.000595 executorch:executor_runner.cpp:91] Using method forward I 00:00:00.000612 executorch:executor_runner.cpp:138] Setting up planned buffer 0, size 48. I 00:00:00.000669 executorch:executor_runner.cpp:161] Method loaded. I 00:00:00.000685 executorch:executor_runner.cpp:171] Inputs prepared. I 00:00:00.000764 executorch:executor_runner.cpp:180] Model executed successfully. I 00:00:00.000770 executorch:executor_runner.cpp:184] 1 outputs: Output 0: tensor(sizes=[1], [2.]) Compiler Cache (ccache)# ExecuTorch automatically detects and enables ccache if it\u2019s installed. This significantly speeds up recompilation by caching previously compiled objects: If ccache is detected, you\u2019ll see: ccache found and enabled for faster builds If ccache is not installed, you\u2019ll see: ccache not found, builds will not be cached To install ccache: # Ubuntu/Debian sudo apt install ccache # macOS brew install ccache # CentOS/RHEL sudo yum install ccache # or sudo dnf install ccache No additional configuration is needed - the build system will automatically use ccache when available. See CMakeLists.txt Build Options# CMake options can be used to for fine-grained control of build type, control which features are built, and configure functionality, such as logging. Options are typically specified during CMake configuration. Default values of each option are set by the active preset, but can be overridden by specifying the option when configuring. Note that many build options require other options to be enabled. This may require enabling multiple options to enable a given feature. The CMake build output will provide an error message when a required option is not enabled. Build Type# The CMake build is typically set to Debug or Release. For production use or profiling, release mode should be used to improve performance and reduce binary size. It disables program verification and executorch logging and adds optimizations flags. The EXECUTORCH_OPTIMIZE_SIZE flag can be used to further optimize for size with a small performance tradeoff. # Specify build type during CMake configuration cmake .. -DCMAKE_BUILD_TYPE=Release Backends# Typically, each hardware backend exposes a CMake option to control whether the backend is built. See backend-specific documentation for more details. EXECUTORCH_BUILD_CADENCE - Build the Cadence DSP backend. EXECUTORCH_BUILD_COREML - Build the Apple CoreML backend. EXECUTORCH_BUILD_CORTEX_M - Build the ARM Cortex-M backend. EXECUTORCH_BUILD_MPS - Build the Apple Metal Performance Shader backend. EXECUTORCH_BUILD_NEURON - Build the MediaTek Neuron backend. EXECUTORCH_BUILD_OPENVINO - Build the Intel OpenVINO backend. EXECUTORCH_BUILD_QNN - Build the Qualcomm AI Engine backend. EXECUTORCH_BUILD_VGF - Build the ARM VGF backend. EXECUTORCH_BUILD_VULKAN - Build the Vulkan GPU backend. EXECUTORCH_BUILD_XNNPACK - Build the XNNPACK CPU backend. # Build the XNNPACK and Vulkan backends. cmake .. -DEXECUTORCH_BUILD_XNNPACK=ON -DEXECUTORCH_BUILD_VULKAN=ON Extensions# ExecuTorch extensions provide optional functionality outside of the core runtime. As the core runtime is designed to run in constrained environments, these features are typically disabled by default. Extensions include higher-level APIs (Module and Tensor), multi-threading support (Threadpool), training, and more. EXECUTORCH_BUILD_EXTENSION_APPLE - Build the Apple extension. This provides Swift and Objective-C bindings, log routing, and platform integration with Mac and iOS. See Using ExecuTorch on iOS. EXECUTORCH_BUILD_EXTENSION_DATA_LOADER - Build the data loader extension. Provides classes to load PTEs from files or buffers. EXECUTORCH_BUILD_EXTENSION_FLAT_TENSOR - Build the flat tensor extension. Provides functionality to load and save tensor data in .ptd format. EXECUTORCH_BUILD_EXTENSION_LLM - Build the Large Language Model extension. Provides LLM-specific functionality, such as tokenizer APIs. See Working with LLMs. EXECUTORCH_BUILD_EXTENSION_LLM_APPLE - Build the Large Language Model Apple extensions. EXECUTORCH_BUILD_EXTENSION_LLM_RUNNER - Build the Large Language Model runner extension. EXECUTORCH_BUILD_EXTENSION_MODULE - Build the Module API extension. See High-Level APIs. EXECUTORCH_BUILD_EXTENSION_TENSOR - Build the Tensor API extension. Provides convenience APIs for creating and managing tensors. See High-Level APIs and extension/tensor. EXECUTORCH_BUILD_EXTENSION_TRAINING - Build the training extension. This is experimental. EXECUTORCH_BUILD_EXTENSION_EVALUE_UTIL - Build the EValue utility extension. Provides a method to print EValue objects. See print_evalue.h. EXECUTORCH_BUILD_EXTENSION_RUNNER_UTIL - Build the runner utility extension. Provides utility methods for running models, such as allocating input and output tensor memory and generating inputs. See executor_runner.cpp for example usage. # Enable the data loader extension. cmake .. -DEXECUTORCH_BUILD_EXTENSION_DATA_LOADER=ON Logging# Logging is enabled by default in debug builds and disabled in release. When enabled, the default log level is Info. Both log enable and level can be overriden with options. See Logging. Disabling logging and decreasing log verbosity will reduce binary size by stripping unused strings from the build. EXECUTORCH_ENABLE_LOGGING - Enable or disable framework log messages. EXECUTORCH_LOG_LEVEL - The minimum log level to emit. One of debug, info, error, or fatal. # Enable logging at debug cmake .. -DEXECUTORCH_ENABLE_LOGGING=ON -DEXECUTORCH_LOG_LEVEL=debug Output Libraries# To link against the runtime from outside of the CMake ecosystem, the runtime can be first built with CMake and then linked directly. A few of the relevant top-level targets are described below. Note that this is a more involved process than using CMake and is only recommended when using CMake is not viable. libexecutorch.a: The core of the ExecuTorch runtime. Does not contain any operator/kernel definitions or backend definitions. libportable_kernels.a: The implementations of ATen-compatible operators, following the signatures in //kernels/portable/functions.yaml. libportable_kernels_bindings.a: Generated code that registers the contents of libportable_kernels.a with the runtime. NOTE: This must be linked into your application with a flag like -Wl,-force_load or -Wl,--whole-archive. It contains load-time functions that automatically register the kernels, but linkers will often prune those functions by default because there are no direct calls to them. libportable_kernels.a, so the program may use any of the operators it implements. Backends typically introduce additional targets. See backend-specific documentation for more details. Cross-Compiling for Android# Pre-requisites# Set up a Python environment and clone the ExecuTorch repository, as described in Environment Setup. Install the Android SDK. Android Studio is recommended. Install the Android NDK. Option 1: Install via Android Studio. Option 2: Download from NDK Downloads. Building the AAR# With the NDK installed, the build_android_library.sh script will build the ExecuTorch Java AAR. This file contains the ExecuTorch Java bindings and native code. See Using the AAR File for usage. export ANDROID_ABIS=arm64-v8a export BUILD_AAR_DIR=aar-out mkdir -p $BUILD_AAR_DIR sh scripts/build_android_library.sh Building the Example Runner# The native executor runner can be cross-compiled for android and deployed via ADB. This step is intended as an example of CMake cross compilation and is not necessary for integration into an app. # Run the following lines from the `executorch/` folder ./install_executorch.sh --clean mkdir cmake-android-out \u0026\u0026 cd cmake-android-out # point -DCMAKE_TOOLCHAIN_FILE to the location where ndk is installed cmake -DCMAKE_TOOLCHAIN_FILE=$ANDROID_NDK/build/cmake/android.toolchain.cmake -DANDROID_ABI=arm64-v8a .. cd .. cmake --build cmake-android-out -j9 adb shell mkdir -p /data/local/tmp/executorch # push the binary to an Android device adb push cmake-android-out/executor_runner /data/local/tmp/executorch # push the model file adb push add.pte /data/local/tmp/executorch adb shell \"/data/local/tmp/executorch/executor_runner --model_path /data/local/tmp/executorch/add.pte\" Cross-Compiling for iOS# For iOS, we\u2019ll build frameworks instead of static libraries. The frameworks contain the compiled ExecuTorch runtime and public headers. Pre-requisites# Install Xcode from the Mac App Store and install the Command Line Tools using the terminal. xcode-select --install Building# Build the frameworks: ./scripts/build_apple_frameworks.sh Run the above command with --help flag to learn more on how to build additional backends (like Core ML, MPS or XNNPACK), etc. Note that some backends may require additional dependencies and certain versions of Xcode and iOS. See backend-specific documentation for more details. Copy over the generated .xcframework bundles to your Xcode project, link them against your targets and don\u2019t forget to add an extra linker flag -all_load. Check out the iOS Demo App tutorial for more info. Building on Windows# ExecuTorch provides experimental support for native Windows builds. NOTE: All commands should be executed on Windows powershell in administrator mode. Environment Setup# Pre-requisites# Install miniconda for Windows from the official website. Install Git for Windows from the official website. Install ClangCL for Windows from the official website or through a Visual Studio or Visual Studio Code installation. Clone and Configure Environment# git config --global core.symlinks true git clone --recurse -submodules https://github.com/pytorch/executorch.git cd executorch conda create -yn et python=3.12 conda activate et If Conda is not available, run conda-hook.ps1, where $miniconda_dir is the directory where miniconda is installed. This is \u201cC:\\Users\\\u003cusername\u003e\\AppData\\Local\u201d by default. $miniconda_dir\\\\shell\\\\condabin\\\\conda-hook.ps1 Build the Python Package# Run install_executorch.bat to build and install the ExecuTorch Python package and runtime bindings. cd executorch ./install_executorch.bat NOTE Many components are not currently buildable on Windows. These instructions install a very minimal ExecuTorch which can be used as a sanity check. Build the C++ Runtime# del -Recurse -Force cmake-out; ` cmake . ` -DCMAKE_INSTALL_PREFIX=cmake-out ` -DPYTHON_EXECUTABLE=$miniconda_dir\\\\envs\\\\et\\\\python.exe ` -DCMAKE_PREFIX_PATH=$miniconda_dir\\\\envs\\\\et\\\\Lib\\\\site-packages ` -DCMAKE_BUILD_TYPE=Release ` -DEXECUTORCH_BUILD_EXTENSION_TENSOR=ON ` -DEXECUTORCH_BUILD_FLATC=ON ` -DEXECUTORCH_BUILD_PYBIND=OFF ` -DEXECUTORCH_BUILD_XNNPACK=ON ` -DEXECUTORCH_BUILD_KERNELS_LLM=ON ` -DEXECUTORCH_BUILD_KERNELS_OPTIMIZED=ON ` -DEXECUTORCH_BUILD_KERNELS_QUANTIZED=ON ` -DEXECUTORCH_ENABLE_LOGGING=ON ` -T ClangCL ` -Bcmake-out; ` cmake --build cmake-out -j64 --target install --config Release NOTE $miniconda_dir is the directory where you installed miniconda. This is \u201cC:\\Users\\\u003cusername\u003e\\AppData\\Local\u201d by default. Running an Example Model# To validate the installation by running a model, create a file named export_mv2.py. Then, run the powershell commands to export and run the model. The expected output is a tensor of size 1x1000, containing class scores. # export_mv2.py import torch from executorch.exir import to_edge_transform_and_lower from executorch.backends.xnnpack.partition.xnnpack_partitioner import XnnpackPartitioner from torchvision.models import mobilenet_v2 from torchvision.models.mobilenetv2 import MobileNet_V2_Weights mv2 = mobilenet_v2(weights=MobileNet_V2_Weights.DEFAULT).eval() example_inputs = (torch.randn((1, 3, 224, 224)),) program = to_edge_transform_and_lower( torch.export.export(model, example_inputs) ).to_executorch() with open(\"mv2_xnnpack.pte\", \"wb\") as file: executorch_program.write_to_file(file) python .\\\\export_mv2.py .\\\\cmake-out\\\\backends\\\\xnnpack\\\\Release\\\\xnn_executor_runner.exe --model_path=.\\\\mv2_xnnpack.pte Output 0: tensor(sizes=[1, 1000], [ -0.50986, 0.30064, 0.0953904, 0.147726, 0.231205, 0.338555, 0.206892, -0.0575775, \u2026 ]) Next Steps# Selective Build to link only kernels used by the program. This can provide significant binary size savings. Tutorials on building Android and iOS demo apps. Tutorials on deploying applications to embedded devices such as ARM Cortex-M/Ethos-U and XTensa HiFi DSP.",
       "author": {
         "@type": "Organization",
         "name": "PyTorch Contributors",
         "url": "https://pytorch.org"
       },
       "image": "_static/img/pytorch_seo.png",
       "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "/using-executorch-building-from-source.html"
       },
       "datePublished": "2023-01-01T00:00:00Z",
       "dateModified": "2023-01-01T00:00:00Z"
     }
 </script>
  <script>
    // Tutorials Call to action event tracking
    $("[data-behavior='call-to-action-event']").on('click', function () {
      fbq('trackCustom', "Download", {
        tutorialTitle: $('h1:first').text(),
        downloadLink: this.href,
        tutorialLink: window.location.href,
        downloadTitle: $(this).attr("data-response")
      });
      if (typeof gtag === 'function') {
        gtag('event', 'click', {
          'event_category': $(this).attr("data-response"),
          'event_label': $("h1").first().text(),
          'tutorial_link': window.location.href
        });
      }
    });
  </script>
  
  </body>
</html>