# Copyright (c) Meta Platforms, Inc. and affiliates.
# All rights reserved.
# Copyright 2025-2026 Arm Limited and/or its affiliates.
#
# SPDX-License-Identifier: Apache-2.0

# Enable ExecuTorch
CONFIG_EXECUTORCH=y

# C++
CONFIG_CPP=y
CONFIG_STD_CPP17=y

# Config - increased for ExecuTorch memory requirements
CONFIG_MAIN_STACK_SIZE=8192
CONFIG_HEAP_MEM_POOL_SIZE=32768

# Logging
CONFIG_REQUIRES_FLOAT_PRINTF=y

# Configuration for selective operator builds
# Keep the portable operator registry enabled so selective builds can pull in
# only the kernels required by the model (via EXECUTORCH_SELECT_OPS_MODEL).
# Setting this means you will include all portable ops
CONFIG_EXECUTORCH_BUILD_PORTABLE_OPS=n

# To enable the Zephyr Ethos-U driver so executorch_delegate_ethos_u can reserve
# and use the hardware instance exposed by the board DTS is controlled with
# CONFIG_ETHOS_U=y
# This is handled in board specific .conf files, e.g.:
# examples/arm/zephyr/boards/mps4_corstone320_fvp.conf
# To be able to build the example for different HW, in your own project you can
# copy the relevant lines from those files into your own prj.conf

# Enable Helium (MVE) builds of CMSIS-NN by selecting the FPU and hard-float ABI.
CONFIG_FPU=y
CONFIG_FP_HARDABI=y

# Add model specific configs

# Setup memory requirements to scale with the compiled model/network.
CONFIG_EXECUTORCH_METHOD_ALLOCATOR_POOL_SIZE=2000
CONFIG_EXECUTORCH_TEMP_ALLOCATOR_POOL_SIZE=2000
